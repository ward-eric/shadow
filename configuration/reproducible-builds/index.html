<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reproducible Builds</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/shadow/assets/css/0.styles.934a921f.css" as="style"><link rel="preload" href="/shadow/assets/js/app.496ce1b9.js" as="script"><link rel="preload" href="/shadow/assets/js/15.f0c09511.js" as="script"><link rel="prefetch" href="/shadow/assets/js/10.810e4fdb.js"><link rel="prefetch" href="/shadow/assets/js/2.8d45b1a8.js"><link rel="prefetch" href="/shadow/assets/js/3.283bacec.js"><link rel="prefetch" href="/shadow/assets/js/4.69bc81f6.js"><link rel="prefetch" href="/shadow/assets/js/5.763dcc61.js"><link rel="prefetch" href="/shadow/assets/js/6.7c574742.js"><link rel="prefetch" href="/shadow/assets/js/7.78675443.js"><link rel="prefetch" href="/shadow/assets/js/8.ae4c1044.js"><link rel="prefetch" href="/shadow/assets/js/9.340f3311.js"><link rel="prefetch" href="/shadow/assets/js/11.79206bad.js"><link rel="prefetch" href="/shadow/assets/js/12.1338f856.js"><link rel="prefetch" href="/shadow/assets/js/13.b3371b94.js"><link rel="prefetch" href="/shadow/assets/js/14.16244fd6.js"><link rel="prefetch" href="/shadow/assets/js/16.61ddc7d8.js"><link rel="prefetch" href="/shadow/assets/js/17.0c6b57a8.js"><link rel="prefetch" href="/shadow/assets/js/18.6e27c2bd.js"><link rel="prefetch" href="/shadow/assets/js/19.c02e3a9a.js"><link rel="prefetch" href="/shadow/assets/js/20.3c1197e7.js"><link rel="prefetch" href="/shadow/assets/js/21.15aa2a5c.js">
    <link rel="stylesheet" href="/shadow/assets/css/0.styles.934a921f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/shadow/" class="home-link router-link-active"><img src="/shadow/logo+type.svg" alt="" class="logo"> <!----></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/shadow/introduction/" class="nav-link">User Guide</a></div> <a href="https://github.com/johnrengelman/shadow" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/shadow/introduction/" class="nav-link">User Guide</a></div> <a href="https://github.com/johnrengelman/shadow" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/shadow/" class="sidebar-link">Home</a></li><li><a href="/shadow/introduction/" class="sidebar-link">Introduction</a></li><li><a href="/shadow/getting-started/" class="sidebar-link">Getting Started</a></li><li><a href="/shadow/configuration/" class="sidebar-link">Configuring Shadow</a></li><li><a href="/shadow/configuration/filtering/" class="sidebar-link">Filtering Shadow Jar Contents</a></li><li><a href="/shadow/configuration/dependencies/" class="sidebar-link">Configuring Shadowed Dependencies</a></li><li><a href="/shadow/configuration/merging/" class="sidebar-link">Controlling JAR Content Merging</a></li><li><a href="/shadow/configuration/relocation/" class="sidebar-link">Relocating Packages</a></li><li><a href="/shadow/configuration/minimizing/" class="sidebar-link">Minimizing</a></li><li><a href="/shadow/configuration/reproducible-builds/" class="active sidebar-link">Reproducible Builds</a></li><li><a href="/shadow/custom-tasks/" class="sidebar-link">Creating a Custom ShadowJar Task</a></li><li><a href="/shadow/application-plugin/" class="sidebar-link">Integrating with Application Plugin</a></li><li><a href="/shadow/publishing/" class="sidebar-link">Publishing Shadow JARs</a></li><li><a href="/shadow/multi-project/" class="sidebar-link">Using Shadow in Multi-Project Builds</a></li><li><a href="/shadow/plugins/" class="sidebar-link">Using Shadow to Package Gradle Plugins</a></li><li><a href="/shadow/changes/" class="sidebar-link">Change Log</a></li><li><a href="/shadow/about/" class="sidebar-link">About This Project</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="reproducible-builds"><a href="#reproducible-builds" aria-hidden="true" class="header-anchor">#</a> Reproducible Builds</h1> <p>By default, JAR files generated by Gradle (with or without Shadow) for a single project with the same source code may not be identical to each other. Sometimes it's desireable to configure a project to consistently output a byte-for-byte identical JAR on every build. Gradle supports this with the following configuration, and Shadow will correctly respect these settings too:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>tasks<span class="token operator">.</span><span class="token function">withType</span><span class="token punctuation">(</span>AbstractArchiveTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    preserveFileTimestamps <span class="token operator">=</span> <span class="token boolean">false</span>
    reproducibleFileOrder <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>One effect that this configuration will have is that the timestamps of all files in the JAR will be reset to a single consistent value. If your code or any files being included into the JAR depend on the timestamps being set accurately within the JAR, then this may not be the correct choice for you.</p> <p>See the <a href="https://docs.gradle.org/4.9/userguide/working_with_files.html#sec:reproducible_archives" target="_blank" rel="noopener noreferrer">Reproducible archives section in Gradle's documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/johnrengelman/shadow/edit/master/src/docs/configuration/reproducible-builds/README.md" target="_blank" rel="noopener noreferrer">Help improve these docs!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/shadow/configuration/minimizing/" class="prev">
          Minimizing
        </a></span> <span class="next"><a href="/shadow/custom-tasks/">
          Creating a Custom ShadowJar Task
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/shadow/assets/js/15.f0c09511.js" defer></script><script src="/shadow/assets/js/app.496ce1b9.js" defer></script>
  </body>
</html>
